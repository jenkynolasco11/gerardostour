@import '../../../styles/scss/globals.scss';

.custom-table {
  z-index : 1;
  // background : white;
  // position : relative;
  // position : absolute;

  .table {
    .search-bar {
      background : white;
      height : $componentHeight;
      border-bottom : 1px solid #eee;

      &_input-field {
        position : relative;

        ::-webkit-input-placeholder {
          opacity : 0;
          transition : opacity .12s linear;
        }
        :-moz-placeholder {
          opacity : 0;
          transition : opacity .12s linear;
        }
        ::-moz-placeholder {
          opacity : 0;
          transition : opacity .12s linear;
        }
        :-ms-input-placeholder {  
          opacity : 0;
          transition : opacity .12s linear;
        }
        :focus::-webkit-input-placeholder {
          opacity : 0.3;
        }
        :focus:-moz-placeholder {
          opacity : 0.3;
        }
        :focus::-moz-placeholder {
          opacity : 0.3;
        }
        :focus:-ms-input-placeholder {
          opacity : 0.3;
        }

        .search-bar_icon {
          width : 45px;
          color : rgb(216, 216, 216);
          text-align : center;
          vertical-align : middle;
          margin-top : -10px;
          margin-right : -36px;
          font-size : 2em;

          &.close {
            opacity : 0;
            margin-left : -45px;
            transition : opacity .12s linear;
            cursor : default;

            &.appear {
              cursor : pointer;
              // display : none;
              opacity : 1;
            }
          }
        }

        .search-bar_input {
          font-size :  calc(1.6 * var(--unit));
          background : transparent;
          height : 40px;
          line-height : 40px;
          border : none;
          border-bottom : 1px solid #eee;
          width : 60%;
          padding-top : 18px;
          padding-left : 36px;

          &:focus {
            outline : none;
          }
        }

        .search-bar_placeholder {
          position : absolute;
          bottom : 0;
          color : rgb(145, 145, 145);
          left : 45px;
          margin-left : 6px;
          font-size : 1.6em;
          transition : bottom .12s linear, color .12s linear, font-size .12s linear, margin .12s linear;

          &.top {
            margin : 0;
            bottom : 24px;
            font-size : 0.8em;
            color : #ccc;
          }
        }
      }
    }

    .checkmark {
      cursor : pointer;
      @include alignCenter();
      width : $componentHeight;
      height : 100%;

      span.material-icons {
        color : rgb(216, 216, 216);
      }

      &.checked {
        span {
          color : rgb(96, 205, 0);
          z-index : 1;

          &:after {
            content : '';
            transition : background 1s linear;
            position : absolute;
            background : #8a8afb;
            width : $componentHeight * 0.8;
            height : $componentHeight * 0.8;
            margin-top : -$componentHeight * 0.12;
            margin-left : -$componentHeight * 0.68;
            z-index : -1;
            border-radius : 2px;
          }
        }
      }
    }

    &-header {
      border-top-left-radius : 2px;
      border-top-right-radius : 2px;
      height : $componentHeight;
      background-color : white;
      display : flex;
      border-bottom : 1px solid #eee;

      &-item {
        cursor : pointer;
        flex : 2;
        @include alignCenter();

        &:not(.checkmark) {
          flex : 2;
        }

        &:nth-child(2) {
          flex : 1;
        }
      }
    }

    &-body {
      .table-row {
        background-color : white;
        box-sizing : border-box;
        border-bottom : 1px solid #eee;
        transition : background .1s linear;

        &:hover .table-row-content:not(.body){
          background-color : #f1f1f1;
        }

        &.selected {
          background-color : #f5f5f5;
        }

        &-content {
          position : relative;
          @include alignCenter;

          .checkmark {
            height : $componentHeight;
          }

          .header {
            height : $componentHeight;
            flex : 1;
            @include alignCenter;

            .header-item {
              height : 100%;
              @include alignCenter;
              flex : 2;

              &:nth-child(1) {
                flex : 1;
              }
            }
          }

          &.body {
            width : 100%;
            background : gray;
            padding : 4px 0;
            transition : height .1s linear, padding .1s linear;
            box-shadow : inset 0px 8px 5px -8px black;

            &.closed {
              overflow : hidden;
              padding : 0;
              height : 0;
            }
          }

          .colormark {
            position : absolute;
            right : 0;
            width : 10px;
            height : 100%;
          }
        }
      }

      .skeleton-data {
        height : $componentHeight;
        border-bottom : 1px solid #eee;
        background-color : white;
        display : flex;
        @include alignCenter();
        justify-content : space-around;

        .dummy {
          height : $componentHeight * 0.2;
          margin : 0 22px;
          // width : 18%;
          background-color : rgb(230, 230, 230);
          // margin-top : auto;
        }
      }

      .table-no-content {
        background : white;
        min-height : 80px;
        @include alignCenter;
        border-bottom : 1px solid #eee;
      }
    }
    
    box-shadow : 0 2px 2px 0 rgba(0,0,0,.14),
                0 3px 1px -2px rgba(0,0,0,.2),
                0 1px 5px 0 rgba(0,0,0,.12);
  }

  :last-child {
    border-bottom-left-radius : 2px;
    border-bottom-right-radius : 2px;
  }
}